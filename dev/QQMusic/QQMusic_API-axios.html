<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>musicu接口-axios</title>
  <script src="../js/axios.min.js"></script>
</head>

<body>
  <h2>musicu接口-axios</h2>

  <div id="response"></div>

  <button id="sendRequest">发送POST请求</button>

  <script>

    // 要发送的原始数据
    const dataToSend = '{"comm":{"g_tk":1579906136,"uin":331150871,"format":"json","inCharset":"utf-8","outCharset":"utf-8","notice":0,"platform":"h5","needNewCode":1,"ct":23,"cv":0},"req_0":{"method":"DoSearchForQQMusicDesktop","module":"music.search.SearchCgiService","param":{"remoteplace":"txt.mqq.all","searchid":"55215592813312667","search_type":0,"query":"我的歌声里","page_num":1,"num_per_page":20}}}'

    // 设置请求头
    const config = {
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded', // 指定不进行自动编码的 Content-Type
      },
    };

    // 点击按钮发送POST请求
    document.getElementById('sendRequest').addEventListener('click', function () {
      // 发送 POST 请求
      axios.post('https://u.y.qq.com/cgi-bin/musicu.fcg', dataToSend, config)
        .then(response => {
          console.log("success");
          console.log(response.data.req_0.data.body.song);
        })
        .catch(error => {
          console.error('Error:', error);
        });

    });

  </script>
</body>

</html>